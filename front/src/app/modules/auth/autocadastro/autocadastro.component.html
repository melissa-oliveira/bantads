<link
  href="https://fonts.googleapis.com/css2?family=Poppins:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,650;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap"
  rel="stylesheet"
/>
<div class="container mt-0">
  <div class="card-btds row justify-content-center">
    <div class="col-lg-12 borda-laranja">
      <form class="form-group" #formAutocadastro="ngForm">
        <div class="row d-flex justify-content-between align-items-center">
          <div class="col">
            <h1 class="huge fw-700 text-orange-btds">
              Bantads
              <span class="h2 fw-600" style="color: black">Autocadastro</span>
            </h1>
          </div>
          <div class="col-auto">
            <div
              *ngIf="mensagemErro"
              class="alert alert-danger mb-0"
              role="alert"
              style="white-space: nowrap"
            >
              {{ mensagemErro }}
            </div>
          </div>
        </div>

        <div class="row">
          <!-- Coluna 1 -->
          <div class="col-md-4">
            <!-- CPF -->
            <div class="form-group my-3">
              <label for="cpf" class="text-left mb-1">CPF</label>
              <input
                type="text"
                id="cpf"
                name="cpf"
                class="form-control input-btds"
                mask="000.000.000-00"
                placeholder="000.000.000-00"
                [(ngModel)]="cliente.cpf"
                #cpf="ngModel"
                IsCpf
                required
              />

              <!-- Menipulação de Erros -->
              <div
                *ngIf="cpf.errors && cpf.touched"
                class="text-orange-btds p-0"
              >
                <div class="bg-off" [hidden]="!cpf.errors['required']">
                  <i class="bi bi-exclamation-circle me-1"></i>O CPF é
                  obrigatório
                </div>
                <div class="bg-off" [hidden]="!cpf.errors['isCpf']">
                  <i class="bi bi-exclamation-circle me-1"></i>CPF inválido
                </div>
              </div>
            </div>

            <!-- Nome Completo -->
            <div class="form-group mt-3">
              <label for="nome" class="text-left mb-1">Nome Completo</label>
              <input
                type="nome"
                id="nome"
                name="nome"
                class="form-control input-btds"
                [(ngModel)]="cliente.nome"
                #nome="ngModel"
                required
              />

              <!-- Menipulação de Erros -->
              <div
                *ngIf="nome.errors && nome.touched"
                class="text-orange-btds p-0"
              >
                <div class="bg-off" [hidden]="!nome.errors['required']">
                  <i class="bi bi-exclamation-circle me-1"></i>O nome é
                  obrigatório
                </div>
              </div>
            </div>

            <!-- Email -->
            <div class="form-group mt-3">
              <label for="email" class="text-left mb-1">E-mail</label>
              <input
                type="email"
                id="email"
                name="email"
                class="form-control input-btds"
                placeholder="nome@exemplo.com"
                [(ngModel)]="cliente.email"
                #email="ngModel"
                IsEmail
                required
              />

              <!-- Menipulação de Erros -->
              <div
                *ngIf="email.errors && email.touched"
                class="text-orange-btds p-0"
              >
                <div class="bg-off" [hidden]="!email.errors['required']">
                  <i class="bi bi-exclamation-circle me-1"></i>O email é
                  obrigatório
                </div>
                <div class="bg-off" [hidden]="!email.errors['isEmail']">
                  <i class="bi bi-exclamation-circle me-1"></i>E-mail inválido
                </div>
              </div>
            </div>

            <!-- Telefone -->
            <div class="form-group mt-3">
              <label for="telefone" class="text-left mb-1">Telefone</label>
              <input
                type="telefone"
                id="telefone"
                name="telefone"
                class="form-control input-btds"
                mask="(00) 00000-0000"
                placeholder="(00) 00000-0000"
                [(ngModel)]="cliente.telefone"
                #telefone="ngModel"
                IsTelefone
                required
              />

              <!-- Menipulação de Erros -->
              <div
                *ngIf="telefone.errors && telefone.touched"
                class="text-orange-btds p-0"
              >
                <div class="bg-off" [hidden]="!telefone.errors['required']">
                  <i class="bi bi-exclamation-circle me-1"></i>O telefone é
                  obrigatório
                </div>
                <div class="bg-off" [hidden]="!telefone.errors['isTelefone']">
                  <i class="bi bi-exclamation-circle me-1"></i>Telefone inválido
                </div>
              </div>
            </div>
          </div>

          <!-- Coluna 2 -->
          <div class="col-md-4 mt-3">
            <!-- CEP -->
            <div class="row">
              <div class="col">
                <div class="form-group">
                  <label for="cep" class="text-left mb-1">CEP</label>
                  <input
                    type="text"
                    id="cep"
                    name="cep"
                    class="form-control input-btds"
                    mask="00000-000"
                    placeholder="00000-000"
                    [(ngModel)]="endereco.cep"
                    #cep="ngModel"
                    required
                    (change)="onCepChange()"
                  />
                  <!-- Manipulação de Erros -->
                  <div
                    *ngIf="cep.errors && cep.touched"
                    class="text-orange-btds p-0"
                  >
                    <div class="bg-off" [hidden]="!cep.errors['required']">
                      <i class="bi bi-exclamation-circle me-1"></i>O CEP é
                      obrigatório
                    </div>
                  </div>
                </div>
              </div>

              <!--Tipo-->
              <div class="col">
                <label for="tipo" class="text-left mb-1">Tipo</label>
                <select
                  id="tipo"
                  name="tipo"
                  class="form-select input-btds"
                  [(ngModel)]="endereco.tipo"
                  #tipo="ngModel"
                  required
                >
                  <option value="" disabled selected>Selecione</option>
                  <option value="RUA">RUA</option>
                  <option value="AVENIDA">AVENIDA</option>
                  <option value="ESTRADA">ESTRADA</option>
                </select>

                <!-- Menipulação de Erros -->
                <div
                  *ngIf="tipo.errors && tipo.touched"
                  class="text-orange-btds p-0"
                >
                  <div class="bg-off" [hidden]="!tipo.errors['required']">
                    <i class="bi bi-exclamation-circle me-1"></i>O tipo é
                    obrigatório
                  </div>
                </div>
              </div>
              <!-- Logradouro -->
              <div class="form-group mt-3">
                <label for="logradouro" class="text-left mb-1"
                  >Logradouro</label
                >
                <input
                  type="text"
                  id="logradouro"
                  name="logradouro"
                  class="form-control input-btds"
                  [(ngModel)]="endereco.logradouro"
                  #logradouro="ngModel"
                  required
                />

                <!-- Menipulação de Erros -->
                <div
                  *ngIf="logradouro.errors && logradouro.touched"
                  class="text-orange-btds p-0"
                >
                  <div class="bg-off" [hidden]="!logradouro.errors['required']">
                    <i class="bi bi-exclamation-circle me-1"></i>O logradouro é
                    obrigatório
                  </div>
                </div>
              </div>
            </div>

            <div class="row mt-3">
              <!-- Número -->
              <div class="col-6">
                <label for="numero" class="text-left mb-1">Número</label>
                <input
                  id="numero"
                  name="numero"
                  class="form-control input-btds"
                  [(ngModel)]="endereco.numero"
                  #numero="ngModel"
                  required
                />

                <!-- Menipulação de Erros -->
                <div
                  *ngIf="numero.errors && numero.touched"
                  class="text-orange-btds p-0"
                >
                  <div class="bg-off" [hidden]="!numero.errors['required']">
                    <i class="bi bi-exclamation-circle me-1"></i>O número é
                    obrigatório
                  </div>
                </div>
              </div>

              <!-- Complemento -->
              <div class="col-6">
                <label for="complemento" class="text-left mb-1"
                  >Complemento</label
                >
                <input
                  id="complemento"
                  name="complemento"
                  class="form-control input-btds"
                  [(ngModel)]="endereco.complemento"
                  #complemento="ngModel"
                />
              </div>
            </div>

            <div class="row mt-3">
              <!-- Estado -->
              <div class="col-6">
                <label for="estado" class="text-left mb-1">Estado</label>
                <select
                  id="estado"
                  name="estado"
                  class="form-select input-btds"
                  [(ngModel)]="endereco.estado"
                  #estado="ngModel"
                  required
                >
                  <option value="" disabled selected>Selecione</option>
                  <option value="AL">AL</option>
                  <option value="AP">AP</option>
                  <option value="AM">AM</option>
                  <option value="BA">BA</option>
                  <option value="CE">CE</option>
                  <option value="DF">DF</option>
                  <option value="ES">ES</option>
                  <option value="GO">GO</option>
                  <option value="MA">MA</option>
                  <option value="MT">MT</option>
                  <option value="MS">MS</option>
                  <option value="MG">MG</option>
                  <option value="PA">PA</option>
                  <option value="PB">PB</option>
                  <option value="PR">PR</option>
                  <option value="PE">PE</option>
                  <option value="PI">PI</option>
                  <option value="RJ">RJ</option>
                  <option value="RN">RN</option>
                  <option value="RS">RS</option>
                  <option value="RO">RO</option>
                  <option value="RR">RR</option>
                  <option value="SC">SC</option>
                  <option value="SP">SP</option>
                  <option value="SE">SE</option>
                  <option value="TO">TO</option>
                </select>

                <!-- Menipulação de Erros -->
                <div
                  *ngIf="estado.errors && estado.touched"
                  class="text-orange-btds p-0"
                >
                  <div class="bg-off" [hidden]="!estado.errors['required']">
                    <i class="bi bi-exclamation-circle me-1"></i>O estado é
                    obrigatório
                  </div>
                </div>
              </div>

              <!-- Cidade -->
              <div class="col-6">
                <label for="cidade" class="text-left mb-1">Cidade</label>
                <input
                  type="text"
                  id="cidade"
                  name="cidade"
                  class="form-control input-btds"
                  [(ngModel)]="endereco.cidade"
                  #cidade="ngModel"
                  required
                />

                <!-- Menipulação de Erros -->
                <div
                  *ngIf="cidade.errors && cidade.touched"
                  class="text-orange-btds p-0"
                >
                  <div class="bg-off" [hidden]="!cidade.errors['required']">
                    <i class="bi bi-exclamation-circle me-1"></i>A cidade é
                    obrigatória
                  </div>
                </div>
              </div>
            </div>
          </div>

          <!-- Coluna 3 -->
          <div class="col-md-4">
            <!-- Bairro -->
            <div class="form-group mt-3">
              <label for="bairro" class="text-left mb-1">Bairro</label>
              <input
                type="text"
                id="bairro"
                name="bairro"
                class="form-control input-btds"
                [(ngModel)]="endereco.bairro"
                #bairro="ngModel"
                required
              />

              <!-- Manipulação de Erros -->
              <div
                *ngIf="bairro.errors && bairro.touched"
                class="text-orange-btds p-0"
              >
                <div class="bg-off" [hidden]="!bairro.errors['required']">
                  <i class="bi bi-exclamation-circle me-1"></i>O bairro é
                  obrigatório
                </div>
              </div>
            </div>
            <!-- Salário Mensal -->
            <div class="form-group mt-3">
              <label for="salario" class="text-left mb-1">Salário Mensal</label>
              <input
                type="text"
                id="salario"
                name="salario"
                class="form-control input-btds"
                [(ngModel)]="cliente.salario"
                #salario="ngModel"
                IsMoedaReal
                required
              />

              <!-- Manipulação de Erros -->
              <div
                *ngIf="salario.errors && salario.touched"
                class="text-orange-btds p-0"
              >
                <div class="bg-off" [hidden]="!salario.errors['required']">
                  <i class="bi bi-exclamation-circle me-1"></i>O salário é
                  obrigatório
                </div>
              </div>
            </div>

            <!-- Botões-->
            <div
              class="row mt-5 d-flex justify-content-center align-items-center"
            >
              <button
                type="submit"
                class="btn-btds btds-cad w-75 mt-5"
                [disabled]="!formAutocadastro.form.valid"
                (click)="inserir()"
              >
                Cadastrar
              </button>
              <div class="text-center bg-off" style="font-size: 14px">
                <span class="small bg-off" style="font-weight: 400"
                  >Já tem conta?
                </span>
                <a
                  class="text-orange-btds bg-off"
                  style="font-weight: 600"
                  href="../login"
                  >Entre aqui</a
                >
              </div>
            </div>
          </div>
        </div>
      </form>

      <!-- Modal de Confirmação -->
      <div
        class="modal fade"
        #modalConfirmacao
        style="background-color: rgba(0, 0, 0, 0.5)"
        tabindex="-1"
        aria-labelledby="modalConfirmacao"
        aria-hidden="true"
      >
        <div class="modal-dialog modal-dialog-centered bg-off">
          <div class="modal-content">
            <div class="modal-header">
              <h2
                class="modal-title text-orange-btds fw-700"
                id="exampleModalLabel"
              >
                Cadastro realizado!
              </h2>
              <button
                type="button"
                class="btn-close"
                data-bs-dismiss="modal"
                aria-label="Fechar"
              ></button>
            </div>
            <div class="modal-body">
              <h5>
                Caso sua conta seja aprovada, será enviado um e-mail contendo
                sua senha para Login.
              </h5>
            </div>
            <div class="modal-footer">
              <button
                type="button"
                class="btn btn-btds h-100"
                data-bs-dismiss="modal"
                [routerLink]="['../login']"
              >
                Ok, obrigado!
              </button>
            </div>
          </div>
        </div>
      </div>

      <!-- Fim Modal de Confirmação -->
    </div>
  </div>
</div>
